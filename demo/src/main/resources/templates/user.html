<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/layui/css/layui.css">
</head>
<body>

<table class="layui-hide" id="test"></table>


<script src="/layui/layui.js" charset="utf-8"></script>

<script type="text/javascript">


    /*日期组件*/
    layui.use('laydate', function () {
        var laydate = layui.laydate;
        laydate.render({
            elem: '#regtime'
        });
    });

    layui.use('table', function () {
        var table = layui.table;

        table.render({
            elem: '#test'
            , url: 'user/list'
            , cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            , toolbar: true
            , title: '用户数据表'
            , totalRow: true
            , cols: [[
                {field: 'userid', width: 80, title: 'ID', sort: true}
                , {field: 'username', width: 150, title: '用户名'}
                , {field: 'gender', width: 80, title: '性别'}
                , {field: 'age', width: 80, title: '年龄', sort: true}
                , {field: 'userno', width: 80, title: '彩虹号', sort: true} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                , {field: 'mobile', title: '手机号', width: '30%', minWidth: 80}
                , {field: 'regtime', title: '注册日期', width: '30%', minWidth: 50}
            ]]
            , page: true
            /* ,parseData: function (res) { //将原始数据解析成 table 组件所规定的数据
                 return {
                     "code": res.code, //解析接口状态
                     "msg": res.msg, //解析提示文本
                     "count": res.count, //解析数据长度
                     "data": res.data //解析数据列表
                 };
             }*/

        });
    });

    function showTime(tempDate) {
        var d = new Date(tempDate);
        var year = d.getFullYear();
        var month = d.getMonth();
        month++;
        var day = d.getDate();
        var hours = d.getHours();

        var minutes = d.getMinutes();
        var seconds = d.getSeconds();
        month = month < 10 ? "0" + month : month;
        day = day < 10 ? "0" + day : day;
        hours = hours < 10 ? "0" + hours : hours;
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;
        var time = year + "-" + month + "-" + day;
        return time;
    }
</script>

</body>
</html>